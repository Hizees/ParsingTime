#!/bin/bash

JAR="time"

JAVANLP="$JAVANLP_HOME/projects/core/classes:$JAVANLP_HOME/projects/research/classes:$JAVANLP_HOME/projects/core/lib/xom-1.2.6.jar:etc/models.jar"
CP="dist/$JAR.jar:etc/lib.jar:etc/scala-library.jar:etc/scala-compiler.jar:etc/jline.jar:etc/postgresql.jar:$JAVANLP:etc/jdom.jar:etc/joda-time.jar"

if [ "$1" == "tempeval2" ]; then
	if [ "$2" == "english" ]; then
		cd aux/tempeval2 && ./toPsql.rb english data && cd ../.. &&\
			java -cp $CP -server -Xmx1000M -ea time.NumberAnnotator english
	else
		echo "Invalid tempeval2 language: $2"
	fi
elif [ "$1" == "timebank" ]; then
	cd aux/timebank && ./toPsql.rb . data && cd ../.. &&\
		java -cp $CP -server -Xmx1000M -ea time.NumberAnnotator timebank
else
	echo "Invalid dataset: $1"
fi
